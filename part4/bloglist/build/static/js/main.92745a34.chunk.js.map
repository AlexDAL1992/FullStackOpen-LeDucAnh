{"version":3,"sources":["components/Blog.js","services/blogs.js","services/login.js","App.js","index.js"],"names":["Blog","blog","title","author","axios","get","then","response","data","login","credentials","a","post","App","useState","blogs","setBlogs","setTitle","setAuthor","url","setUrl","setErrorMessage","username","setUsername","password","setPassword","user","setUser","useEffect","blogService","handleLogin","event","preventDefault","console","log","loginService","setTimeout","onSubmit","type","value","name","onChange","target","map","id","ReactDOM","render","document","getElementById"],"mappings":"qMAOeA,EANF,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAF,OACX,gCACGA,EAAKC,MADR,IACgBD,EAAKE,W,gBCKR,EALA,WAEb,OADgBC,IAAMC,IAHR,cAICC,MAAK,SAACC,GAAD,OAAcA,EAASC,SCG9B,GAAEC,MALN,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACWP,IAAMQ,KAHf,aAG6BF,GAD/B,cACNH,EADM,yBAELA,EAASC,MAFJ,2CAAH,uDCoGIK,EAlGH,WAAO,IAAD,EACUC,mBAAS,IADnB,mBACTC,EADS,KACFC,EADE,OAEUF,mBAAS,IAFnB,mBAETZ,EAFS,KAEFe,EAFE,OAGYH,mBAAS,IAHrB,mBAGTX,EAHS,KAGDe,EAHC,OAIMJ,mBAAS,IAJf,mBAITK,EAJS,KAIJC,EAJI,OAKwBN,mBAAS,MALjC,mBAKKO,GALL,aAMgBP,mBAAS,IANzB,mBAMTQ,EANS,KAMCC,EAND,OAOgBT,mBAAS,IAPzB,mBAOTU,EAPS,KAOCC,EAPD,OAQQX,mBAAS,MARjB,mBAQTY,EARS,KAQHC,EARG,KAUhBC,qBAAU,WACRC,IAAqBvB,MAAK,SAACS,GAAD,OAAWC,EAASD,QAC7C,IAEH,IAAMe,EAAW,uCAAG,WAAOC,GAAP,eAAApB,EAAA,6DAClBoB,EAAMC,iBACNC,QAAQC,IAAI,mBAAoBZ,EAAUE,GAFxB,kBAKGW,EAAa1B,MAAM,CAAEa,WAAUE,aALlC,OAKVE,EALU,OAMhBC,EAAQD,GACRH,EAAY,IACZE,EAAY,IARI,kDAUhBJ,EAAgB,qBAChBe,YAAW,WACTf,EAAgB,QACf,KAba,0DAAH,sDA0EjB,OACE,gCACE,uCAGU,OAATK,EA7DH,uBAAMW,SAAUP,EAAhB,UACE,4CACY,IACV,uBACEQ,KAAK,OACLC,MAAOjB,EACPkB,KAAK,WACLC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBnB,EAAYmB,EAAOH,aAGjD,4CACY,IACV,uBACED,KAAK,WACLC,MAAOf,EACPgB,KAAK,WACLC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBjB,EAAYiB,EAAOH,aAGjD,8BACE,wBAAQD,KAAK,SAAb,wBAMJ,iCACE,yCACS,IACP,uBACEC,MAAOrC,EACPuC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBzB,EAASyB,EAAOH,aAG9C,0CACU,IACR,uBACEA,MAAOpC,EACPsC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBxB,EAAUwB,EAAOH,aAG/C,uCACO,IACL,uBAAOA,MAAOpB,EAAKsB,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBtB,EAAOsB,EAAOH,aAE7D,8BACE,wBAAQD,KAAK,SAAb,oBAEF,8BACGvB,EAAM4B,KAAI,SAAC1C,GAAD,OACT,cAAC,EAAD,CAAoBA,KAAMA,GAAfA,EAAK2C,gBCnF1BC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.92745a34.chunk.js","sourcesContent":["import React from 'react'\r\nconst Blog = ({blog}) => (\r\n  <div>\r\n    {blog.title} {blog.author}\r\n  </div>  \r\n)\r\n\r\nexport default Blog","import axios from \"axios\";\r\nconst baseUrl = \"/api/blogs\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll };\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/login\";\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials);\r\n  return response.data;\r\n};\r\n\r\nexport default { login };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Blog from \"./components/Blog\";\r\nimport blogService from \"./services/blogs\";\r\nimport loginService from \"./services/login\";\r\n\r\nconst App = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [author, setAuthor] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    blogService.getAll().then((blogs) => setBlogs(blogs));\r\n  }, []);\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    console.log(\"logging in with \", username, password);\r\n\r\n    try {\r\n      const user = await loginService.login({ username, password });\r\n      setUser(user);\r\n      setUsername(\"\");\r\n      setPassword(\"\");\r\n    } catch (exception) {\r\n      setErrorMessage(\"Wrong credentials\");\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const loginForm = () => (\r\n    <form onSubmit={handleLogin}>\r\n      <div>\r\n        Username:{\" \"}\r\n        <input\r\n          type=\"text\"\r\n          value={username}\r\n          name=\"Username\"\r\n          onChange={({ target }) => setUsername(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        Password:{\" \"}\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          name=\"Password\"\r\n          onChange={({ target }) => setPassword(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n\r\n  const blogForm = () => (\r\n    <form /* onSubmit={addBlog} */>\r\n      <div>\r\n        Title:{\" \"}\r\n        <input\r\n          value={title}\r\n          onChange={({ target }) => setTitle(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        Author:{\" \"}\r\n        <input\r\n          value={author}\r\n          onChange={({ target }) => setAuthor(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        Url:{\" \"}\r\n        <input value={url} onChange={({ target }) => setUrl(target.value)} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">Save</button>\r\n      </div>\r\n      <div>\r\n        {blogs.map((blog) => (\r\n          <Blog key={blog.id} blog={blog} />\r\n        ))}\r\n      </div>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <h2>Blogs</h2>\r\n\r\n      {/* <Notification message={errorMessage} /> */}\r\n      {user === null ? loginForm() : blogForm()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}